<!-- fileAnalyzer.html -->
<template>
    <div class="acme-file-analyzer">
        <div class="acme-file-analyzer__header">
            <h1 class="acme-heading acme-heading_large">File Analyzer</h1>
        </div>
        <div class="acme-file-analyzer__content">
            <div class="acme-file-analyzer__upload-zone">
                <lightning-file-upload
                    label="Upload Files"
                    name="fileUploader"
                    accept={acceptedFormats}
                    record-id={recordId}
                    onuploadfinished={handleUploadFinished}
                    multiple
                ></lightning-file-upload>
            </div>
            <div class="acme-file-analyzer__config-panel">
                <lightning-combobox
                    name="analysisType"
                    label="Analysis Type"
                    value={analysisType}
                    placeholder="Select type"
                    options={analysisTypeOptions}
                    onchange={handleAnalysisTypeChange}
                    required
                ></lightning-combobox>
                <lightning-textarea
                    name="description"
                    label="Description"
                    value={description}
                    placeholder="Enter description"
                    maxlength="250"
                    onchange={handleDescriptionChange}
                ></lightning-textarea>
            </div>
            <div class="acme-file-analyzer__actions">
                <lightning-button
                    label="Analyze"
                    title="Start Analysis"
                    onclick={handleAnalyze}
                    class="acme-button acme-button_primary"
                    disabled={isAnalyzeDisabled}
                ></lightning-button>
                <lightning-button
                    label="Cancel"
                    title="Cancel Analysis"
                    onclick={handleCancel}
                    class="acme-button acme-button_destructive"
                    disabled={isCancelDisabled}
                ></lightning-button>
            </div>
            <div if:true={showResults} class="acme-file-analyzer__results">
                <h2 class="acme-heading acme-heading_medium">Analysis Results</h2>
                <lightning-button
                    label="Download"
                    title="Download Results"
                    onclick={handleDownload}
                    class="acme-button acme-button_success"
                    disabled={isDownloadDisabled}
                ></lightning-button>
                <!-- Results display area -->
            </div>
        </div>
        <div class="acme-file-analyzer__footer">
            <a href="/analysis-history" class="acme-link">View History</a>
            <a href="/file-analyzer-help" class="acme-link" target="_blank">Help Guide</a>
        </div>
    </div>
</template>