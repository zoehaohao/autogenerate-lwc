<!-- nameUpdater.html -->
<template>
    <div class="acme-name-updater">
        <h1 class="acme-heading acme-heading_large">Name Updater Form</h1>
        <form class="acme-form" onsubmit={handleSubmit}>
            <div class="acme-form__field">
                <label for="firstName" class="acme-label">First Name</label>
                <input type="text" id="firstName" name="firstName" class="acme-input" placeholder="Enter first name" required minlength="2" maxlength="50" pattern="^[a-zA-Z-]+$" value={firstName} onblur={handleBlur} oninput={handleInput}/>
                <div if:true={firstNameError} class="acme-error-message">
                    <lightning-icon icon-name="utility:error" alternative-text="Error" title="Error" class="acme-icon acme-icon_small"></lightning-icon>
                    <span>{firstNameError}</span>
                </div>
            </div>
            <div class="acme-form__field">
                <label for="lastName" class="acme-label">Last Name</label>
                <input type="text" id="lastName" name="lastName" class="acme-input" placeholder="Enter last name" required minlength="2" maxlength="50" pattern="^[a-zA-Z-]+$" value={lastName} onblur={handleBlur} oninput={handleInput}/>
                <div if:true={lastNameError} class="acme-error-message">
                    <lightning-icon icon-name="utility:error" alternative-text="Error" title="Error" class="acme-icon acme-icon_small"></lightning-icon>
                    <span>{lastNameError}</span>
                </div>
            </div>
            <div class="acme-form__actions">
                <button type="submit" class="acme-button acme-button_primary" disabled={isSubmitDisabled}>Save Changes</button>
                <button type="button" class="acme-button acme-button_neutral" onclick={handleCancel}>Cancel</button>
            </div>
        </form>
        <div if:true={formMessage} class={formMessageClass}>
            <lightning-icon icon-name={formMessageIcon} alternative-text={formMessageAlt} title={formMessageAlt} class="acme-icon acme-icon_small"></lightning-icon>
            <span>{formMessage}</span>
        </div>
        <a href="/profile" class="acme-link">Back to Profile</a>
    </div>
</template>