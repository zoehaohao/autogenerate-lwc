<!-- personalInfoForm.html -->
<template>
    <lightning-card title="Personal Information Form" icon-name="standard:person_account">
        <div class="slds-p-around_medium">
            <form onsubmit={handleSubmit}>
                <!-- Personal Information Section -->
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title slds-theme_shade">
                        <span class="slds-truncate slds-p-horizontal_small" title="Personal Information">Personal Information</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-input
                            label="First Name"
                            name="firstName"
                            required
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter your legal first name as it appears on official documents."></lightning-helptext>

                        <lightning-input
                            label="Middle Name"
                            name="middleName"
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Optional: Enter your middle name if applicable."></lightning-helptext>

                        <lightning-input
                            label="Last Name"
                            name="lastName"
                            required
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter your legal last name as it appears on official documents."></lightning-helptext>

                        <lightning-input
                            type="date"
                            label="Birthdate"
                            name="birthdate"
                            required
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter your date of birth. You must be at least 18 years old."></lightning-helptext>
                    </div>
                </div>

                <!-- Address Section -->
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title slds-theme_shade">
                        <span class="slds-truncate slds-p-horizontal_small" title="Address">Address</span>
                    </h3>
                    <div class="slds-section__content">
                        <lightning-input
                            label="Address"
                            name="address"
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter your street address, including apartment or unit number if applicable."></lightning-helptext>

                        <lightning-input
                            label="City or Town"
                            name="city"
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter the name of your city or town."></lightning-helptext>

                        <lightning-combobox
                            label="State"
                            name="state"
                            options={stateOptions}
                            onchange={handleInputChange}
                            placeholder="Choose a State"
                            class="slds-p-bottom_small"
                        ></lightning-combobox>
                        <lightning-helptext content="Select your state from the dropdown list."></lightning-helptext>

                        <lightning-input
                            label="Zip Code"
                            name="zipCode"
                            required
                            onchange={handleInputChange}
                            pattern="^\d{5}(-\d{4})?$"
                            message-when-pattern-mismatch="Please enter a valid 5-digit or 9-digit zip code"
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter your 5-digit zip code. You may also enter a 9-digit zip code in the format 12345-6789."></lightning-helptext>

                        <lightning-input
                            type="date"
                            label="Start Date"
                            name="startDate"
                            required
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter the start date for this address."></lightning-helptext>

                        <lightning-input
                            type="date"
                            label="End Date"
                            name="endDate"
                            required
                            onchange={handleInputChange}
                            class="slds-p-bottom_small"
                        ></lightning-input>
                        <lightning-helptext content="Enter the end date for this address. This must be after the start date."></lightning-helptext>
                    </div>
                </div>

                <div class="slds-grid slds-grid_align-end slds-p-top_medium">
                    <lightning-button
                        label="Clear"
                        onclick={handleClear}
                        class="slds-m-right_x-small"
                    ></lightning-button>
                    <lightning-button
                        label="Submit"
                        variant="brand"
                        type="submit"
                        disabled={isSubmitDisabled}
                    ></lightning-button>
                </div>
            </form>

            <template if:true={showSpinner}>
                <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
            </template>
        </div>
    </lightning-card>
</template>
