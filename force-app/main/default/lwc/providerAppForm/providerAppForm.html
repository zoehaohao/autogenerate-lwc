<template>
    <div class="slds-p-around_medium">
        <!-- Progress Indicator (unchanged) -->
        <lightning-progress-indicator 
            current-step={currentPageString}
            type="path"
            variant="base">
            <lightning-progress-step label="Application Checklist" value="1"></lightning-progress-step>
            <lightning-progress-step label="Key Personnel Declaration" value="2"></lightning-progress-step>
            <lightning-progress-step label="About the Applicant" value="3"></lightning-progress-step>
            <lightning-progress-step label="Key Personnel Details" value="4"></lightning-progress-step>
            <lightning-progress-step label="Provider Suitability" value="5"></lightning-progress-step>
            <lightning-progress-step label="Care Type Details" value="6"></lightning-progress-step>
        </lightning-progress-indicator>

        <!-- Page 1: Application Checklist -->
        <template if:true={isPage1}>
            <div class="slds-box slds-m-top_medium">
                <h2 class="slds-text-heading_medium">Required Documents Checklist</h2>
                <div class="slds-m-top_medium">
                    <lightning-checkbox-group
                        name="requiredDocs"
                        label="Please confirm you have the following documents ready:"
                        options={requiredDocuments}
                        value={selectedDocuments}
                        onchange={handleDocumentSelection}>
                    </lightning-checkbox-group>
                </div>
                <!-- Section Navigation -->
                <div class="slds-m-top_medium slds-border_top slds-p-top_medium">
                    <lightning-button-group class="slds-float_right">
                        <lightning-button label="Cancel" variant="neutral" onclick={handleCancel}></lightning-button>
                        <lightning-button label="Next" variant="brand" onclick={handleNext} disabled={isNextDisabled}></lightning-button>
                    </lightning-button-group>
                </div>
            </div>
        </template>

        <!-- Page 2: Key Personnel Declaration -->
        <template if:true={isPage2}>
            <div class="slds-box slds-m-top_medium">
                <h2 class="slds-text-heading_medium">Key Personnel Declaration</h2>
                <!-- Existing Declaration Fields -->
                <div class="slds-grid slds-wrap slds-m-top_medium">
                    <!-- ... existing declaration fields ... -->
                </div>
                <!-- Section Navigation -->
                <div class="slds-m-top_medium slds-border_top slds-p-top_medium">
                    <lightning-button-group class="slds-float_right">
                        <lightning-button label="Previous" variant="neutral" onclick={handlePrevious}></lightning-button>
                        <lightning-button label="Cancel" variant="neutral" onclick={handleCancel}></lightning-button>
                        <lightning-button label="Next" variant="brand" onclick={handleNext} disabled={isNextDisabled}></lightning-button>
                    </lightning-button-group>
                </div>
            </div>
        </template>

        <!-- Page 3: About the Applicant -->
        <template if:true={isPage3}>
            <div class="slds-box slds-m-top_medium">
                <h2 class="slds-text-heading_medium">Organization Details</h2>
                <div class="slds-grid slds-wrap slds-m-top_medium">
                    <!-- ... existing organization fields ... -->
                </div>
                <!-- Section Navigation -->
                <div class="slds-m-top_medium slds-border_top slds-p-top_medium">
                    <lightning-button-group class="slds-float_right">
                        <lightning-button label="Previous" variant="neutral" onclick={handlePrevious}></lightning-button>
                        <lightning-button label="Cancel" variant="neutral" onclick={handleCancel}></lightning-button>
                        <lightning-button label="Save" variant="success" onclick={handleSave} disabled={isSaveDisabled}></lightning-button>
                        <lightning-button label="Next" variant="brand" onclick={handleNext} disabled={isNextDisabled}></lightning-button>
                    </lightning-button-group>
                </div>
            </div>
        </template>
    </div>
</template>
