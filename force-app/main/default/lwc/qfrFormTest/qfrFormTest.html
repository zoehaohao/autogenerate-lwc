<template>
    <div class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <span>Form Information</span>
                    </h2>
                </div>
            </header>
        </div>
        <div class="slds-card__body slds-card__body_inner">
            <form class="slds-form slds-form_stacked">
                <!-- Personal Information Section -->
                <div class="slds-section slds-is-open">
                    <h3 class="slds-section__title slds-theme_shade">
                        <span class="slds-truncate slds-p-horizontal_small" title="Personal Information">
                            Personal Information
                        </span>
                    </h3>
                    <div class="slds-section__content">
                        <div class="slds-form-element">
                            <lightning-input
                                name="name"
                                label="Name"
                                value={personalInfo.name}
                                required
                                onchange={handlePersonalInfoChange}
                                class="slds-m-bottom_medium">
                            </lightning-input>
                        </div>
                        <div class="slds-form-element">
                            <lightning-input
                                name="email"
                                type="email"
                                label="Email"
                                value={personalInfo.email}
                                onchange={handlePersonalInfoChange}
                                class="slds-m-bottom_medium">
                            </lightning-input>
                        </div>
                        <div class="slds-form-element">
                            <lightning-input
                                name="phone"
                                type="tel"
                                label="Phone"
                                value={personalInfo.phone}
                                onchange={handlePersonalInfoChange}
                                class="slds-m-bottom_medium">
                            </lightning-input>
                        </div>
                    </div>
                </div>

                <!-- Address Section -->
                <div class="slds-section slds-is-open slds-m-top_large">
                    <h3 class="slds-section__title slds-theme_shade">
                        <span class="slds-truncate slds-p-horizontal_small" title="Address">
                            Address
                        </span>
                    </h3>
                    <div class="slds-section__content">
                        <div class="slds-form-element">
                            <lightning-input
                                name="address"
                                label="Address"
                                value={addressInfo.address}
                                onchange={handleAddressChange}
                                class="slds-m-bottom_medium">
                            </lightning-input>
                        </div>
                        <div class="slds-form-element">
                            <lightning-input
                                name="state"
                                label="State"
                                value={addressInfo.state}
                                onchange={handleAddressChange}
                                class="slds-m-bottom_medium">
                            </lightning-input>
                        </div>
                        <div class="slds-form-element">
                            <lightning-input
                                name="zipCode"
                                label="Zip Code"
                                value={addressInfo.zipCode}
                                onchange={handleAddressChange}
                                class="slds-m-bottom_medium">
                            </lightning-input>
                        </div>
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="slds-form-element slds-m-top_large">
                    <div class="slds-button-group" role="group">
                        <lightning-button
                            variant="neutral"
                            label="Clear"
                            onclick={handleClear}
                            class="slds-m-right_small">
                        </lightning-button>
                        <lightning-button
                            variant="brand"
                            label="Submit"
                            onclick={handleSubmit}
                            disabled={isSubmitDisabled}>
                        </lightning-button>
                    </div>
                </div>

                <!-- Loading Spinner -->
                <template if:true={isLoading}>
                    <lightning-spinner
                        alternative-text="Loading"
                        size="medium">
                    </lightning-spinner>
                </template>

                <!-- Success Message -->
                <template if:true={showSuccessMessage}>
                    <div class="slds-notify slds-notify_alert slds-theme_success slds-m-top_medium" role="alert">
                        <span class="slds-assistive-text">Success</span>
                        <h2>Form submitted successfully!</h2>
                    </div>
                </template>

                <!-- Error Message -->
                <template if:true={showErrorMessage}>
                    <div class="slds-notify slds-notify_alert slds-theme_error slds-m-top_medium" role="alert">
                        <span class="slds-assistive-text">Error</span>
                        <h2>{errorMessage}</h2>
                    </div>
                </template>
            </form>
        </div>
    </div>
</template>
