<template>
    <div class="slds-card slds-p-around_medium">
        <div class="slds-tabs_default">
            <ul class="slds-tabs_default__nav" role="tablist">
                <li class="slds-tabs_default__item" role="presentation">
                    <a class={computedFormTabClass} 
                       role="tab" 
                       data-tab="form" 
                       onclick={handleTabChange}>
                        Form Demo
                    </a>
                </li>
                <li class="slds-tabs_default__item" role="presentation">
                    <a class={computedDataTabClass} 
                       role="tab" 
                       data-tab="data" 
                       onclick={handleTabChange}>
                        Data View
                    </a>
                </li>
            </ul>
            
            <div class="slds-tabs_default__content" role="tabpanel">
                <template if:true={showSuccess}>
                    <div class="slds-notify slds-notify_alert slds-alert_success" role="alert">
                        <span class="slds-assistive-text">Success</span>
                        <h2>Form submitted successfully!</h2>
                        <div class="slds-notify__close">
                            <button class="slds-button slds-button_icon slds-button_icon-inverse" 
                                    onclick={handleReset}>
                                <lightning-icon icon-name="utility:close" 
                                              size="small" 
                                              variant="inverse">
                                </lightning-icon>
                            </button>
                        </div>
                    </div>
                </template>

                <form class="slds-form slds-form_stacked" onsubmit={handleSubmit}>
                    <div class="slds-grid slds-gutters slds-wrap">
                        <!-- First Name -->
                        <div class="slds-col slds-size_1-of-2">
                            <div class="slds-form-element" 
                                 class={errors.firstName ? 'slds-has-error' : ''}>
                                <label class="slds-form-element__label" for="firstName">
                                    First Name
                                    <abbr class="slds-required" title="required">*</abbr>
                                </label>
                                <div class="slds-form-element__control">
                                    <input type="text" 
                                           id="firstName" 
                                           class="slds-input" 
                                           data-field="firstName"
                                           value={formData.firstName}
                                           onchange={handleInputChange}
                                           required />
                                </div>
                                <div class="slds-form-element__help" if:true={errors.firstName}>
                                    {errors.firstName}
                                </div>
                            </div>
                        </div>

                        <!-- Last Name -->
                        <div class="slds-col slds-size_1-of-2">
                            <div class="slds-form-element" 
                                 class={errors.lastName ? 'slds-has-error' : ''}>
                                <label class="slds-form-element__label" for="lastName">
                                    Last Name
                                    <abbr class="slds-required" title="required">*</abbr>
                                </label>
                                <div class="slds-form-element__control">
                                    <input type="text" 
                                           id="lastName" 
                                           class="slds-input" 
                                           data-field="lastName"
                                           value={formData.lastName}
                                           onchange={handleInputChange}
                                           required />
                                </div>
                                <div class="slds-form-element__help" if:true={errors.lastName}>
                                    {errors.lastName}
                                </div>
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="slds-col slds-size_1-of-2">
                            <div class="slds-form-element" 
                                 class={errors.email ? 'slds-has-error' : ''}>
                                <label class="slds-form-element__label" for="email">
                                    Email
                                    <abbr class="slds-required" title="required">*</abbr>
                                </label>
                                <div class="slds-form-element__control">
                                    <input type="email" 
                                           id="email" 
                                           class="slds-input" 
                                           data-field="email"
                                           value={formData.email}
                                           onchange={handleInputChange}
                                           required />
                                </div>
                                <div class="slds-form-element__help" if:true={errors.email}>
                                    {errors.email}
                                </div>
                            </div>
                        </div>

                        <!-- Phone -->
                        <div class="slds-col slds-size_1-of-2">
                            <div class="slds-form-element" 
                                 class={errors.phone ? 'slds-has-error' : ''}>
                                <label class="slds-form-element__label" for="phone">
                                    Phone
                                </label>
                                <div class="slds-form-element__control">
                                    <input type="tel" 
                                           id="phone" 
                                           class="slds-input" 
                                           data-field="phone"
                                           value={formData.phone}
                                           onchange={handleInputChange} />
                                </div>
                                <div class="slds-form-element__help" if:true={errors.phone}>
                                    {errors.phone}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="slds-m-top_medium slds-text-align_right">
                        <button class="slds-button slds-button_neutral" 
                                type="button"
                                onclick={handleReset}>
                            Reset
                        </button>
                        <button class="slds-button slds-button_brand" 
                                type="submit"
                                disabled={!isFormValid}>
                            Submit
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</template>