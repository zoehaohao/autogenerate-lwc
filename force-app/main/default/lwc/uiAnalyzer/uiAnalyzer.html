<!-- uiAnalyzer.html -->
<template>
    <div class="root-container slds-p-around_medium">
        <header class="slds-m-bottom_medium">
            <div class="slds-grid slds-gutters slds-wrap">
                <div class="slds-col slds-size_1-of-1 slds-medium-size_2-of-3">
                    <lightning-file-upload
                        label="File Upload"
                        name="fileUploader"
                        accept={acceptedFormats}
                        record-id={recordId}
                        onuploadfinished={handleUploadFinished}
                        multiple
                    ></lightning-file-upload>
                </div>
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                    <lightning-button-group class="slds-float_right">
                        <lightning-button label="Analyze" variant="brand" onclick={handleAnalyze}></lightning-button>
                        <lightning-button label="Export" variant="neutral" onclick={handleExport} disabled={isExportDisabled}></lightning-button>
                    </lightning-button-group>
                </div>
            </div>
        </header>
        <div class="slds-grid slds-gutters slds-wrap">
            <div class="slds-col slds-size_1-of-1 slds-large-size_9-of-12">
                <div class="main-content">
                    <lightning-card title="Analytics Display" icon-name="utility:chart">
                        <div class="slds-p-horizontal_medium">
                            <!-- Analytics content will be dynamically inserted here -->
                        </div>
                    </lightning-card>
                </div>
            </div>
            <div class="slds-col slds-size_1-of-1 slds-large-size_3-of-12">
                <div class="sidebar">
                    <lightning-card title="Filters & Options" icon-name="utility:filterlist">
                        <div class="slds-p-horizontal_medium">
                            <lightning-input type="date" name="startDate" label="Start Date" onchange={handleDateChange}></lightning-input>
                            <lightning-input type="date" name="endDate" label="End Date" onchange={handleDateChange}></lightning-input>
                            <lightning-combobox
                                name="analysisType"
                                label="Analysis Type"
                                value={analysisType}
                                placeholder="Select Analysis Type"
                                options={analysisOptions}
                                onchange={handleAnalysisTypeChange}
                                class="slds-m-top_small"
                            ></lightning-combobox>
                            <lightning-button label="Reset" variant="neutral" onclick={handleReset} class="slds-m-top_small"></lightning-button>
                        </div>
                    </lightning-card>
                </div>
            </div>
        </div>
        <footer class="slds-m-top_medium">
            <div class="slds-grid slds-gutters">
                <div class="slds-col">
                    <lightning-button-group>
                        <lightning-button label="Dashboard" onclick={navigateToDashboard}></lightning-button>
                        <lightning-button label="Settings" onclick={navigateToSettings}></lightning-button>
                        <lightning-button label="Help Guide" onclick={openHelpGuide}></lightning-button>
                    </lightning-button-group>
                </div>
            </div>
        </footer>
    </div>
</template>